var bootbox=window.bootbox||function(a){function b(a,e){null==e&&(e=c);return"string"==typeof i[e][a]?i[e][a]:e!=d?b(a,d):a}var c="en",d="en",e=!0,f="static",g={},h={},i={en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"}};h.setLocale=function(a){for(var b in i)if(b==a){c=a;return}throw Error("Invalid locale: "+a)};h.addLocale=function(a,b){"undefined"==typeof i[a]&&(i[a]={});for(var c in b)i[a][c]=b[c]};h.setIcons=function(a){g=a;if("object"!==typeof g||null==g)g={}};h.alert=function(){var a="",c=b("OK"),d=null;switch(arguments.length){case 1:a=arguments[0];break;case 2:a=arguments[0];"function"==typeof arguments[1]?d=arguments[1]:c=arguments[1];break;case 3:a=arguments[0];c=arguments[1];d=arguments[2];break;default:throw Error("Incorrect number of arguments: expected 1-3")}return h.dialog(a,{label:c,icon:g.OK,callback:d},{onEscape:d})};h.confirm=function(){var a="",c=b("CANCEL"),d=b("CONFIRM"),e=null;switch(arguments.length){case 1:a=arguments[0];break;case 2:a=arguments[0];"function"==typeof arguments[1]?e=arguments[1]:c=arguments[1];break;case 3:a=arguments[0];c=arguments[1];"function"==typeof arguments[2]?e=arguments[2]:d=arguments[2];break;case 4:a=arguments[0];c=arguments[1];d=arguments[2];e=arguments[3];break;default:throw Error("Incorrect number of arguments: expected 1-4")}return h.dialog(a,[{label:c,icon:g.CANCEL,callback:function(){"function"==typeof e&&e(!1)}},{label:d,icon:g.CONFIRM,callback:function(){"function"==typeof e&&e(!0)}}])};h.prompt=function(){var c="",d=b("CANCEL"),e=b("CONFIRM"),f=null,i="";switch(arguments.length){case 1:c=arguments[0];break;case 2:c=arguments[0];"function"==typeof arguments[1]?f=arguments[1]:d=arguments[1];break;case 3:c=arguments[0];d=arguments[1];"function"==typeof arguments[2]?f=arguments[2]:e=arguments[2];break;case 4:c=arguments[0];d=arguments[1];e=arguments[2];f=arguments[3];break;case 5:c=arguments[0];d=arguments[1];e=arguments[2];f=arguments[3];i=arguments[4];break;default:throw Error("Incorrect number of arguments: expected 1-5")}var j=a("<form></form>");j.append("<input autocomplete=off type=text value='"+i+"' />");var l=h.dialog(j,[{label:d,icon:g.CANCEL,callback:function(){"function"==typeof f&&f(null)}},{label:e,icon:g.CONFIRM,callback:function(){"function"==typeof f&&f(j.find("input[type=text]").val())}}],{header:c});l.on("shown",function(){j.find("input[type=text]").focus();j.on("submit",function(a){a.preventDefault();l.find(".btn-primary").click()})});return l};h.modal=function(){var b,c,d,e={onEscape:null,keyboard:!0,backdrop:f};switch(arguments.length){case 1:b=arguments[0];break;case 2:b=arguments[0];"object"==typeof arguments[1]?d=arguments[1]:c=arguments[1];break;case 3:b=arguments[0];c=arguments[1];d=arguments[2];break;default:throw Error("Incorrect number of arguments: expected 1-3")}e.header=c;d="object"==typeof d?a.extend(e,d):e;return h.dialog(b,[],d)};h.dialog=function(b,c,d){var g=null,h="",i=[],d=d||{};null==c?c=[]:"undefined"==typeof c.length&&(c=[c]);for(var j=c.length;j--;){var l=null,m=null,n="",o=null;if("undefined"==typeof c[j].label&&"undefined"==typeof c[j]["class"]&&"undefined"==typeof c[j].callback){var l=0,p=null,s;for(s in c[j])if(p=s,1<++l)break;1==l&&"function"==typeof c[j][s]&&(c[j].label=p,c[j].callback=c[j][s])}"function"==typeof c[j].callback&&(o=c[j].callback);c[j]["class"]?m=c[j]["class"]:j==c.length-1&&2>=c.length&&(m="btn-primary");l=c[j].label?c[j].label:"Option "+(j+1);c[j].icon&&(n="<i class='"+c[j].icon+"'></i> ");h+="<a data-handler='"+j+"' class='btn "+m+"' href='javascript:;'>"+n+""+l+"</a>";i[j]=o}c=["<div class='bootbox modal' style='overflow:hidden;'>"];if(d.header){j="";if("undefined"==typeof d.headerCloseButton||d.headerCloseButton)j="<a href='javascript:;' class='close'>×</a>";c.push("<div class='modal-header'>"+j+"<h3>"+d.header+"</h3></div>")}c.push("<div class='modal-body'></div>");h&&c.push("<div class='modal-footer'>"+h+"</div>");c.push("</div>");var t=a(c.join("\n"));("undefined"===typeof d.animate?e:d.animate)&&t.addClass("fade");a(".modal-body",t).html(b);t.bind("hidden",function(){t.remove()});t.bind("hide",function(){if("escape"==g&&"function"==typeof d.onEscape)d.onEscape()});a(document).bind("keyup.modal",function(a){27==a.which&&(g="escape")});t.bind("shown",function(){a("a.btn-primary:last",t).focus()});t.on("click",".modal-footer a, a.close",function(b){var c=a(this).data("handler"),c=i[c],d=null;"function"==typeof c&&(d=c());!1!==d&&(b.preventDefault(),g="button",t.modal("hide"))});null==d.keyboard&&(d.keyboard="function"==typeof d.onEscape);a("body").append(t);t.modal({backdrop:"undefined"===typeof d.backdrop?f:d.backdrop,keyboard:d.keyboard});return t};h.hideAll=function(){a(".bootbox").modal("hide")};h.animate=function(a){e=a};h.backdrop=function(a){f=a};return h}(window.jQuery)